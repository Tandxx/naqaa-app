<!-- views/resources.ejs - ูุญุฏุซ ุจุงูุชุตููู ุงูุฌุฏูุฏ -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงููุตุงุฏุฑ - ููุงุก</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { 
      font-family: 'Noto Sans Arabic', 'Space Grotesk', sans-serif; 
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <nav class="navbar" id="navbar">
      <div class="container">
        <a href="/dashboard" class="logo">
          <img src="../image/1.png" alt="ููุงุก" class="logo-img">
          <span>ููุงุก</span>
        </a>
        <ul class="nav-links">
          <li><a href="/dashboard">ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="/log">ุชุณุฌูู ูููู</a></li>
          <li><a href="/resources" style="color: var(--primary-light);">ุงููุตุงุฏุฑ</a></li>
          <li><a href="/settings">ุงูุฅุนุฏุงุฏุงุช</a></li>
          <li>
            <form action="/logout" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-secondary">ุชุณุฌูู ุฎุฑูุฌ</button>
            </form>
          </li>
        </ul>
      </div>
    </nav>

    <main class="container section">
      <div class="fade-in">
        <h1 style="margin-bottom: var(--space-lg); text-align: center;">
          <span style="font-size: 2rem; margin-left: var(--space-sm);">๐</span>
          ููุชุจุฉ ุงููุตุงุฏุฑ
        </h1>
      </div>

      <!-- Filter Buttons -->
      <div class="card fade-in" style="margin-bottom: var(--space-xl);">
        <div style="display: flex; gap: var(--space-sm); flex-wrap: wrap; justify-content: center;">
          <a href="/resources" 
             class="btn <%= currentCategory === 'all' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentCategory === 'all' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐</span>
            <span>ุฌููุน ุงููุตุงุฏุฑ</span>
          </a>
          <a href="/resources?category=islamic" 
             class="btn <%= currentCategory === 'islamic' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentCategory === 'islamic' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐</span>
            <span>ุฅุณูุงููุฉ</span>
          </a>
          <a href="/resources?category=motivation" 
             class="btn <%= currentCategory === 'motivation' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentCategory === 'motivation' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐ช</span>
            <span>ุชุญููุฒูุฉ</span>
          </a>
          <a href="/resources?category=scientific" 
             class="btn <%= currentCategory === 'scientific' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentCategory === 'scientific' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐ฌ</span>
            <span>ุนูููุฉ</span>
          </a>
          <a href="/resources?type=article" 
             class="btn <%= currentType === 'article' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentType === 'article' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐</span>
            <span>ููุงูุงุช</span>
          </a>
          <a href="/resources?type=verse" 
             class="btn <%= currentType === 'verse' ? 'btn-primary' : 'btn-secondary' %>"
             style="<%= currentType === 'verse' ? 'background: var(--gradient-primary); color: white;' : '' %>">
            <span>๐</span>
            <span>ุขูุงุช</span>
          </a>
        </div>
      </div>

      <% if (resources && resources.length > 0) { %>
        <div class="grid grid-2">
          <% resources.forEach((resource, index) => { %>
            <div class="card slide-up" style="transition-delay: <%= (index * 0.1) %>s;">
              <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: var(--space-md); gap: var(--space-md);">
                <h3 style="margin: 0; flex: 1; font-size: 1.2rem;"><%= resource.title %></h3>
                <span style="background: var(--primary-subtle); color: var(--primary-light); padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-full); font-size: 0.8rem; font-weight: 500; white-space: nowrap;">
                  <%= resource.type === 'article' ? '๐ ููุงู' : 
                      resource.type === 'verse' ? '๐ ุขูุฉ' :
                      resource.type === 'video' ? '๐ฅ ููุฏูู' : '๐ญ ุชุฐููุฑ' %>
                </span>
              </div>
              
              <div style="color: var(--text-tertiary); margin-bottom: var(--space-md); line-height: 1.6;">
                <% if (resource.content.length > 200) { %>
                  <%= resource.content.substring(0, 200) %>...
                <% } else { %>
                  <%= resource.content %>
                <% } %>
              </div>
              
              <% if (resource.url) { %>
                <div style="margin-top: auto;">
                  <a href="<%= resource.url %>" target="_blank" class="btn btn-primary">
                    <span>๐</span>
                    <span>ุงูุฑุฃ ุงููุฒูุฏ</span>
                  </a>
                </div>
              <% } %>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <!-- Default Resources -->
        <div class="grid grid-2">
          <div class="card slide-up" style="transition-delay: 0.1s;">
            <div style="text-align: center; margin-bottom: var(--space-md);">
              <div style="font-size: 3rem; margin-bottom: var(--space-md);">๐</div>
              <h3 style="margin-bottom: var(--space-md);">ุขูุฉ ููุชูููุฉ</h3>
            </div>
            <div style="background: var(--gradient-primary); color: white; padding: var(--space-lg); border-radius: var(--radius-lg); text-align: center; margin-bottom: var(--space-md);">
              <p style="font-size: 1.2rem; margin-bottom: var(--space-sm); line-height: 1.6; color: white;">
                "ููุงูููุฐูููู ุฌูุงููุฏููุง ูููููุง ููููููุฏูููููููููู ุณูุจูููููุง  ููุฅูููู ุงูููููู ููููุนู ุงููููุญูุณูููููู"
              </p>
              <small style="opacity: 0.9; color: white;">ุณูุฑุฉ ุงูุนููุจูุชุ ุขูุฉ 69</small>
            </div>
          </div>

          <div class="card slide-up" style="transition-delay: 0.2s;">
            <div style="text-align: center; margin-bottom: var(--space-md);">
              <div style="font-size: 3rem; margin-bottom: var(--space-md);">๐ช</div>
              <h3 style="margin-bottom: var(--space-md);">ูุตุงุฆุญ ููุชุบูุจ ุนูู ุงูุฑุบุจุงุช</h3>
            </div>
            <ul style="list-style: none; display: flex; flex-direction: column; gap: var(--space-sm);">
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>โก</span>
                <span>ูู ุจูุดุงุท ุจุฏูู ููุฑุงู</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐ถ</span>
                <span>ุงุฎุฑุฌ ูู ุงูููุงู</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐ฏ</span>
                <span>ุชุฐูุฑ ุฃูุฏุงูู</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐ฅ</span>
                <span>ุชูุงุตู ูุน ุตุฏูู</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐</span>
                <span>ุงูุฑุฃ ุงููุฑุขู ุฃู ุงุฏุน</span>
              </li>
            </ul>
          </div>

          <div class="card slide-up" style="transition-delay: 0.3s;">
            <div style="text-align: center; margin-bottom: var(--space-md);">
              <div style="font-size: 3rem; margin-bottom: var(--space-md);">๐ฑ</div>
              <h3 style="margin-bottom: var(--space-md);">ููุงุฆุฏ ุชุฑู ุงูุนุงุฏุฉ</h3>
            </div>
            <ul style="list-style: none; display: flex; flex-direction: column; gap: var(--space-sm);">
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐ง</span>
                <span>ุชุญุณู ุงูุตุญุฉ ุงูููุณูุฉ</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐ช</span>
                <span>ุฒูุงุฏุฉ ุงูุซูุฉ ุจุงูููุณ</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>โค๏ธ</span>
                <span>ุชุญุณู ุงูุนูุงูุงุช</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>โก</span>
                <span>ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ</span>
              </li>
              <li style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--bg-glass); border-radius: var(--radius-sm);">
                <span>๐</span>
                <span>ุฑุงุญุฉ ุงูุถููุฑ</span>
              </li>
            </ul>
          </div>

          <div class="card slide-up" style="transition-delay: 0.4s;">
            <div style="text-align: center; margin-bottom: var(--space-md);">
              <div style="font-size: 3rem; margin-bottom: var(--space-md);">๐คฒ</div>
              <h3 style="margin-bottom: var(--space-md);">ุฃุฏุนูุฉ ููุงุณุชุนุงูุฉ</h3>
            </div>
            <div style="background: var(--gradient-success); color: white; padding: var(--space-lg); border-radius: var(--radius-lg); margin-bottom: var(--space-md);">
              <p style="font-size: 1.1rem; margin-bottom: var(--space-sm); color: white;">
                "ุงูููู ุฃุนูู ุนูู ุฐูุฑู ูุดูุฑู ูุญุณู ุนุจุงุฏุชู"
              </p>
            </div>
            <div style="background: var(--bg-glass); border: 1px solid var(--border-primary); padding: var(--space-md); border-radius: var(--radius-lg);">
              <p style="font-size: 1rem; margin: 0;">
                "ุฑุจูุง ุขุชูุง ูู ุงูุฏููุง ุญุณูุฉ ููู ุงูุขุฎุฑุฉ ุญุณูุฉ ูููุง ุนุฐุงุจ ุงููุงุฑ"
              </p>
            </div>
          </div>
        </div>
      <% } %>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);

      document.querySelectorAll('.fade-in, .slide-up').forEach(el => {
        observer.observe(el);
      });

      // Navbar scroll effect
      const navbar = document.getElementById('navbar');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
    });
  </script>
</body>
</html>